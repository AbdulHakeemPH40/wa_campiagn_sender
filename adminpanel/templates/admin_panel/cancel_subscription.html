{% extends 'admin_panel/base.html' %}

{% block title %}Cancel Subscription - Admin Panel{% endblock %}

{% block admin_content %}
<div class="container mx-auto p-4">
    <h1 class="text-2xl font-bold mb-4">Cancel Subscription</h1>

    <div class="bg-white shadow-md rounded-lg p-6 mb-6">
        <p class="text-lg mb-4">Are you sure you want to cancel the subscription for:</p>
        <p class="text-xl font-semibold mb-2">{{ subscription.user.email }}</p>
        <p class="text-md text-gray-600 mb-4">Plan: {{ subscription.plan.name }} (Expires: {{ subscription.end_date|date:"M d, Y H:i" }})</p>

        <form method="post" class="space-y-4">
            {% csrf_token %}
            <div class="form-group">
                <label for="cancel_reason" class="block text-gray-700 text-sm font-bold mb-2">Reason for Cancellation (Optional):</label>
                <textarea name="cancel_reason" id="cancel_reason" rows="4" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"></textarea>
            </div>
            <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4">
                <button type="submit" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                    Confirm Cancellation
                </button>
                <a href="{% url 'admin_panel:subscriptions' %}" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-block text-center focus:outline-none focus:shadow-outline">
                    Go Back
                </a>
            </div>
        </form>
    </div>
</div>

<style>
    /* Basic responsive adjustments */
    .container {
        max-width: 800px;
    }
    @media (max-width: 640px) {
        .flex-col.sm:flex-row {
            flex-direction: column;
        }
        .sm:space-y-0.sm:space-x-4 > * {
            margin-left: 0 !important;
            margin-top: 0.5rem;
        }
    }
</style>
{% endblock %}
